<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>ProPulse API - Suite de Tests Completa</title>
  <style>
    :root {
      --bg:#0f1220; --panel:#151930; --muted:#9aa3b2; --text:#e8ecf1; --accent:#5dd3ff; --ok:#22c55e; --warn:#f59e0b; --err:#ef4444;
      --code-bg:#0b0e1a; --code-bd:#252b47;
    }
    body{margin:0; font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu; color:var(--text); background:linear-gradient(180deg,var(--bg),#0b0e19 60%);}
    .container{max-width:980px; margin:0 auto; padding:32px 20px 64px;}
    h1{font-size:2rem; margin:0 0 10px}
    .lead{color:var(--muted)}
    h2{margin-top:28px; font-size:1.35rem; border-left:4px solid var(--accent); padding-left:10px}
    h3{margin-top:22px; font-size:1.1rem}
    pre{background:var(--code-bg); border:1px solid var(--code-bd); border-radius:10px; padding:14px; overflow:auto;}
    code.inline{background:var(--code-bg); border:1px solid var(--code-bd); border-radius:6px; padding:0 4px}
    .panel{background:var(--panel); border:1px solid #222748; border-radius:16px; padding:18px; margin:16px 0}
    .badge{display:inline-block; padding:2px 8px; border-radius:6px; background:#0f1633; border:1px solid #27315a; color:#cfe1ff; font-size:.85rem}
    .list-compact li{margin:4px 0}
    .kpi{display:inline-block; font-weight:600; background:#0e1429; border:1px solid #223059; padding:4px 10px; border-radius:999px; color:#cfe8ff}
    .status{display:inline-flex; align-items:center; gap:6px; padding:4px 10px; border-radius:999px; border:1px solid #263154; background:#0e1430; margin-right:8px}
    .ok{color:var(--ok)} .warn{color:var(--warn)} .err{color:var(--err)}
    footer{opacity:0.7; text-align:center; margin-top:28px; color:#8da2c5; font-size:.9rem}
  </style>
</head>
<body>
  <div class="container">
    <header>
      <h1>ProPulse API - Suite de Tests Completa</h1>
      <p class="lead">Documento de referencia del suite de pruebas automatizadas para la API de ProPulse.</p>
      <span class="kpi">10 evaluaciones principales</span>
    </header>

    <section class="panel">
      <h2>📝 Descripción General</h2>
      <p>Este documento describe el suite de tests completo para la API de ProPulse, que incluye <strong>10 evaluaciones principales</strong> que cubren todos los endpoints críticos de la aplicación.</p>
    </section>

    <section class="panel">
      <h2>📊 Evaluaciones Incluidas</h2>

      <h3>1. <strong>AUTENTICACIÓN - Registro de Usuario</strong></h3>
      <ul class="list-compact">
        <li><span class="badge">Endpoints</span> <code class="inline">POST /auth/register</code></li>
        <li><span class="badge">Casos</span> ✅ Registro (201) · ✅ Email duplicado (409)</li>
      </ul>

      <h3>2. <strong>AUTENTICACIÓN - Login de Usuario</strong></h3>
      <ul class="list-compact">
        <li><span class="badge">Endpoints</span> <code class="inline">POST /auth/login</code></li>
        <li><span class="badge">Casos</span> ✅ Login ok (200) · ❌ Credenciales inválidas (401)</li>
      </ul>

      <h3>3. <strong>PERFIL Y USUARIOS</strong></h3>
      <ul class="list-compact">
        <li><span class="badge">Endpoints</span> <code class="inline">GET /auth/me</code>, <code class="inline">GET /usuarios/me</code>, <code class="inline">PUT /usuarios/:id</code>, <code class="inline">DELETE /usuarios/:id</code></li>
        <li><span class="badge">Casos</span> ✅ Perfil protegido (200) · ✅ Admin obtiene usuarios (200) · ❌ Sin token (401)</li>
      </ul>

      <h3>4. <strong>PRODUCTOS</strong></h3>
      <ul class="list-compact">
        <li><span class="badge">Endpoints</span> <code class="inline">GET /productos</code>, <code class="inline">GET /productos/:id</code>, <code class="inline">POST /productos/admin</code></li>
        <li><span class="badge">Casos</span> ✅ Listado (200) · ✅ Detalle (200) · ✅ Crear producto admin (201)</li>
      </ul>

      <h3>5. <strong>LIKES / FAVORITOS</strong></h3>
      <ul class="list-compact">
        <li><span class="badge">Endpoints</span> <code class="inline">GET /likes</code>, <code class="inline">POST /likes/:id</code>, <code class="inline">DELETE /likes/:id</code></li>
        <li><span class="badge">Casos</span> ✅ Dar like (201) · ✅ Quitar like (204) · ✅ Listar likes (200)</li>
      </ul>

      <h3>6. <strong>CARRITO - Base</strong></h3>
      <ul class="list-compact">
        <li><span class="badge">Endpoints</span> <code class="inline">GET /carritos/me</code>, <code class="inline">PUT /carritos/detalle</code>, <code class="inline">GET /carritos/me/total</code></li>
        <li><span class="badge">Casos</span> ✅ Obtener carrito (200) · ✅ Agregar ítem (200/201) · ✅ Total dinámico (200)</li>
      </ul>

      <h3>7. <strong>PEDIDOS</strong></h3>
      <ul class="list-compact">
        <li><span class="badge">Endpoints</span> <code class="inline">POST /pedidos/checkout</code>, <code class="inline">GET /pedidos/me</code>, <code class="inline">GET /pedidos/admin</code></li>
        <li><span class="badge">Casos</span> ✅ Checkout (201) · ✅ Historial usuario (200) · ✅ Lista admin (200)</li>
      </ul>

      <h3>8. <strong>RESEÑAS</strong></h3>
      <ul class="list-compact">
        <li><span class="badge">Endpoints</span> <code class="inline">POST /resenas/:id</code>, <code class="inline">PUT /resenas/:id</code>, <code class="inline">DELETE /resenas/:id</code></li>
        <li><span class="badge">Casos</span> ✅ Crear reseña (201) · ✅ Editar reseña (200) · ✅ Eliminar reseña (204)</li>
      </ul>

      <h3>9. <strong>CARRITO - Avanzado</strong></h3>
      <ul class="list-compact">
        <li><span class="badge">Endpoints</span> <code class="inline">PATCH /carritos/detalle</code>, <code class="inline">DELETE /carritos/detalle</code></li>
        <li><span class="badge">Casos</span> ✅ Reducir cantidad (200) · ✅ Eliminar ítem (204)</li>
      </ul>

      <h3>10. <strong>API GENERAL</strong></h3>
      <ul class="list-compact">
        <li><span class="badge">Endpoints</span> <code class="inline">GET /</code>, <code class="inline">GET /ruta/inexistente</code></li>
        <li><span class="badge">Casos</span> ✅ Info sistema (200) · ✅ Error esperado (404)</li>
      </ul>
    </section>

    <section class="panel">
      <h2>⚙️ Variables Globales en Tests</h2>
      <ul>
        <li><code class="inline">userToken</code> — Token de usuario</li>
        <li><code class="inline">adminToken</code> — Token de administrador</li>
        <li><code class="inline">userId</code> — ID de usuario</li>
        <li><code class="inline">productId</code> — ID de producto</li>
        <li><code class="inline">carritoId</code> — ID de carrito</li>
        <li><code class="inline">pedidoId</code> — ID de pedido</li>
      </ul>
    </section>

    <section class="panel">
      <h2>📈 Códigos de Estado Esperados</h2>
      <ul class="list-compact">
        <li><strong>200</strong>: Operación exitosa</li>
        <li><strong>201</strong>: Recurso creado</li>
        <li><strong>204</strong>: Éxito sin contenido</li>
        <li><strong>400</strong>: Petición inválida</li>
        <li><strong>401</strong>: No autorizado</li>
        <li><strong>403</strong>: Prohibido</li>
        <li><strong>404</strong>: No encontrado</li>
        <li><strong>409</strong>: Conflicto</li>
        <li><strong>500</strong>: Error interno</li>
      </ul>
    </section>

    <footer>Última actualización: Septiembre 2025</footer>
  </div>
</body>
</html>
